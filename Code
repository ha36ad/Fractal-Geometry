import math
import turtle
import time
import gi
from turtle import *
from math import cos,sin, radians
from gi.repository import Gtk
#defining L-system
def L_system(its, axiom, rules):
    startingstring = axiom
    if its == 0:
        return axiom
    endingstring = ""
    for i in range (its):
        endingstring = "". join(rules[i] if i in rules else i for i in startingstring)
        startingstring == endingstring 
    return endingstring
#L-system
def drawL_system(t,instruction,angle, distance):
    step = len([i for i in instruction if i in "FB"])
    step = 1/step
    i = 0
#Alphabet
    for cmd in instruction:
        if cmd == 'F':
            t.forward(distance)
        elif cmd == 'B':
            t.backward(distance)
        elif cmd == '+':
            t.right(angle)
        elif cmd == '-':
            t.left(angle)
#main function
def main(iterations, axiom, rules, angle, length=8, size=2, y_offset=0,
        x_offset=0, offset_angle=0, width=450, height=450):
    inst = create_l_system(iterations, axiom, rules)
    t = turtle.Turtle()
    wn = turtle.Screen()
    wn.setup(width, height)
    t.up()
    t.backward(-x_offset)
    t.left(90)
    t.backward(-y_offset)
    t.left(offset_angle)
    t.down()
    t.speed(0)
    t.pensize(size)
    draw_l_system(t, inst, angle, length)
    t.hideturtle()
    wn.exitonclick()
